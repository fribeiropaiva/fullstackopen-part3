{"version":3,"sources":["Components/Header.js","Components/SearchField.js","Components/AddEntry.js","Components/DeleteButton.js","Components/RenderPhonebook.js","services/PhonebookServices.js","App.js","index.js"],"names":["Header","text","SearchField","props","value","searchValue","onChange","onChangeHandler","AddEntry","onSubmit","submit","name","handleNewName","onClick","handleNameClick","number","handleNewNumber","handleNumberClick","type","DeleteButton","id","handleDeleteButton","RenderPhonebook","filteredPhonebook","length","map","phoneEntry","i","key","baseUrl","getAll","a","axios","get","response","data","update","newPerson","put","create","post","Math","floor","random","deleteNumber","url","delete","console","log","message","App","useState","setName","setNumber","phonebook","setPhonebook","search","setSearch","useEffect","PhonebookServices","then","filter","toLowerCase","indexOf","event","target","preventDefault","status","personFound","concat","catch","error","trim","itemToBeDeletedId","String","phone","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c5abefe.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = ({ text }) => ( <h1>{text}</h1> );\n\nexport default Header;\n","import React from 'react';\n\nconst SearchField = (props) => {\n  return (\n    <input value={props.searchValue}\n      onChange={props.onChangeHandler}/>\n  )\n}\n\nexport default SearchField;\n","import React from 'react';\n\nconst AddEntry = (props) => {\n  return (\n    <form onSubmit={props.submit}>\n      Name: <input value={props.name}\n        onChange={props.handleNewName}\n        onClick={props.handleNameClick}/>\n      Number: <input value={props.number}\n        onChange={props.handleNewNumber}\n        onClick={props.handleNumberClick} />\n      <button type=\"submit\">save</button>\n    </form>\n  )\n}\n\nexport default AddEntry;\n","import React from 'react';\n\nconst DeleteButton = ({ id, handleDeleteButton }) => <button id={id} onClick={handleDeleteButton}>delete</button>;\n\nexport default DeleteButton;\n","import React from 'react';\nimport DeleteButton from './DeleteButton';\n\nconst RenderPhonebook = (props) => {\n  if (props.filteredPhonebook.length === 0) return (<h2>Phonebook is empty</h2>)\n\n  return(\n    <ul>\n      {props.filteredPhonebook.map((phoneEntry, i) => {\n        return (\n          <div key={'div' + i}>\n            <li id={phoneEntry.id} key={phoneEntry.id}>{phoneEntry.name} {phoneEntry.number} <DeleteButton id={phoneEntry.id} handleDeleteButton={props.handleDeleteButton} /></li>\n          </div>\n        )\n      })}\n    </ul>\n  )\n}\n\nexport default RenderPhonebook;\n","import axios from 'axios';\nconst baseUrl = \"http://localhost:3001/api/persons\";\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data;\n}\n\nconst update = async (id, newPerson) => {\n  const response = await axios.put(`${baseUrl}/${id}`, newPerson)\n  return response.data\n}\n\nconst create = async (newPerson) => {\n  const response = axios.post(baseUrl, {...newPerson, id: `${newPerson.name}-${Math.floor(Math.random() * 100)}`});\n  return response;\n}\n\nconst deleteNumber = async (id) => {\n  const url = `${baseUrl}/${id}`\n  try {\n    const response = await axios.delete(url);\n  } catch(e) {\n    console.log(e.message)\n  }\n  }\n\nexport default { getAll, update, create, deleteNumber };\n","import React, { useState, useEffect } from 'react';\nimport Header from './Components/Header';\nimport SearchField from './Components/SearchField';\nimport AddEntry from './Components/AddEntry';\nimport RenderPhonebook from './Components/RenderPhonebook';\nimport PhonebookServices from './services/PhonebookServices';\nimport './App.css';\n\nconst App = () => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const [phonebook, setPhonebook] = useState([]);\n  const [search, setSearch] = useState('');\n\n  const addName = (event) => {\n    event.preventDefault();\n    if (!name || !number) return;\n\n    PhonebookServices.create({name, number})\n      .then((response) => {\n        if (response.status === 200) {\n          console.log(response)\n          const personFound = response.data[0];\n          PhonebookServices.update(personFound.id, {name, number})\n            .then(response => console.log(response))\n        } else {\n          setPhonebook([...phonebook].concat([{name, number}]))\n        }\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  }\n\n  useEffect(() => {\n    PhonebookServices.getAll()\n      .then(response => {\n        setName('');\n        setNumber('');\n        setPhonebook(response);\n      });\n  }, [phonebook]);\n\n  const handleNewName = (event) => {\n    setName(event.target.value.trim());\n  }\n\n  const handleNewNumber = (event) => {\n    setNumber(event.target.value.trim());\n  }\n\n  const filteredPhonebook = phonebook.filter((phoneEntry) => {\n    return (phoneEntry.name.toLowerCase().indexOf(search.toLowerCase()) !== -1) || (phoneEntry.number.indexOf(search) !== -1)\n  });\n\n  const handleDeleteButton = (event) => {\n    const itemToBeDeletedId = String(event.target.id);\n    console.log(itemToBeDeletedId)\n\n    PhonebookServices.deleteNumber(itemToBeDeletedId);\n    const filteredPhonebook = phonebook.filter((phone) => {\n      console.log(phone)\n      return String(phone.id) !== itemToBeDeletedId\n    })\n    setPhonebook(filteredPhonebook);\n    console.log(phonebook[0].id === itemToBeDeletedId)\n  }\n\n  return (\n    <main>\n      <Header text=\"Phonebook\"/>\n      <SearchField searchValue={search}\n        onChangeHandler={(event) => setSearch(event.target.value)}\n       />\n      <Header text=\"Add a new Name\"/>\n      <AddEntry submit={addName} handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber} handleNumberClick={() => setNumber('')}\n        handleNameClick={() => setName('')} />\n      <Header text=\"Numbers\" />\n      <RenderPhonebook filteredPhonebook={filteredPhonebook} handleDeleteButton={handleDeleteButton}/>\n    </main>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}