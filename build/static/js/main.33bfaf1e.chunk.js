(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,t,n){e.exports=n(45)},25:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),u=n.n(c),o=(n(25),n(19)),l=n(6),i=function(e){var t=e.text;return r.a.createElement("h1",null,t)},s=function(e){return r.a.createElement("input",{value:e.searchValue,onChange:e.onChangeHandler})},m=function(e){return r.a.createElement("form",{onSubmit:e.submit},"Name: ",r.a.createElement("input",{value:e.name,onChange:e.handleNewName,onClick:e.handleNameClick}),"Number: ",r.a.createElement("input",{value:e.number,onChange:e.handleNewNumber,onClick:e.handleNumberClick}),r.a.createElement("button",{type:"submit"},"save"))},f=function(e){var t=e.id,n=e.handleDeleteButton;return r.a.createElement("button",{id:t,onClick:n},"delete")},d=function(e){return 0===e.filteredPhonebook.length?r.a.createElement("h2",null,"Phonebook is empty"):r.a.createElement("ul",null,e.filteredPhonebook.map((function(t,n){return r.a.createElement("div",{key:"div"+n},r.a.createElement("li",{id:t.id,key:t.id},t.name," ",t.number," ",r.a.createElement(f,{id:t.id,handleDeleteButton:e.handleDeleteButton})))})))},b=n(8),h=n(2),p=n.n(h),v=n(4),g=n(5),k=n.n(g),E="http://localhost:3001/api/persons",O={getAll:function(){var e=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(E);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),update:function(){var e=Object(v.a)(p.a.mark((function e(t,n){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("".concat(E,"/").concat(t),n);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),create:function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=k.a.post(E,Object(b.a)(Object(b.a)({},t),{},{id:"".concat(t.name,"-").concat(Math.floor(100*Math.random()))})),e.abrupt("return",n.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteNumber:function(){var e=Object(v.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(E,"/").concat(t),e.prev=1,e.next=4,k.a.delete(n);case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},N=(n(44),function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(""),f=Object(l.a)(u,2),b=f[0],h=f[1],p=Object(a.useState)([]),v=Object(l.a)(p,2),g=v[0],k=v[1],E=Object(a.useState)(""),N=Object(l.a)(E,2),w=N[0],j=N[1];Object(a.useEffect)((function(){O.getAll().then((function(e){k(e)}))}),[]);var x=g.filter((function(e){return-1!==e.name.toLowerCase().indexOf(w.toLowerCase())||-1!==e.number.indexOf(w)}));return r.a.createElement("main",null,r.a.createElement(i,{text:"Phonebook"}),r.a.createElement(s,{searchValue:w,onChangeHandler:function(e){return j(e.target.value)}}),r.a.createElement(i,{text:"Add a new Name"}),r.a.createElement(m,{submit:function(e){e.preventDefault();var t=JSON.stringify(g),a=JSON.stringify({name:n,number:b});-1===t.indexOf(a)&&n.trim().length>0?(O.create({name:n,number:b}).then(k(Object(o.a)(g).concat([{name:n,number:b}]))),c(""),h("")):alert("".concat(n," is already added to phonebook"))},handleNewName:function(e){c(e.target.value.trim())},handleNewNumber:function(e){h(e.target.value.trim())},handleNumberClick:function(){return h("")},handleNameClick:function(){return c("")}}),r.a.createElement(i,{text:"Numbers"}),r.a.createElement(d,{filteredPhonebook:x,handleDeleteButton:function(e){var t=String(e.target.id);console.log(t),O.deleteNumber(t);var n=g.filter((function(e){return console.log(e),String(e.id)!==t}));k(n),console.log(g[0].id===t)}}))});u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.33bfaf1e.chunk.js.map