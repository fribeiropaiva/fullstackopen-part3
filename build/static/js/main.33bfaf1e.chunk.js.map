{"version":3,"sources":["Components/Header.js","Components/SearchField.js","Components/AddEntry.js","Components/DeleteButton.js","Components/RenderPhonebook.js","services/PhonebookServices.js","App.js","index.js"],"names":["Header","text","SearchField","props","value","searchValue","onChange","onChangeHandler","AddEntry","onSubmit","submit","name","handleNewName","onClick","handleNameClick","number","handleNewNumber","handleNumberClick","type","DeleteButton","id","handleDeleteButton","RenderPhonebook","filteredPhonebook","length","map","phoneEntry","i","key","baseUrl","getAll","a","axios","get","response","data","update","newPerson","put","create","console","log","post","Math","floor","random","deleteNumber","url","delete","message","App","useState","setName","setNumber","phonebook","setPhonebook","search","setSearch","useEffect","PhonebookServices","then","filter","toLowerCase","indexOf","event","target","preventDefault","phonebookString","JSON","stringify","numberNameString","trim","concat","alert","itemToBeDeletedId","String","phone","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33bfaf1e.chunk.js","sourcesContent":["import React from 'react';\n\nconst Header = ({ text }) => ( <h1>{text}</h1> );\n\nexport default Header;\n","import React from 'react';\n\nconst SearchField = (props) => {\n  return (\n    <input value={props.searchValue}\n      onChange={props.onChangeHandler}/>\n  )\n}\n\nexport default SearchField;\n","import React from 'react';\n\nconst AddEntry = (props) => {\n  return (\n    <form onSubmit={props.submit}>\n      Name: <input value={props.name}\n        onChange={props.handleNewName}\n        onClick={props.handleNameClick}/>\n      Number: <input value={props.number}\n        onChange={props.handleNewNumber}\n        onClick={props.handleNumberClick} />\n      <button type=\"submit\">save</button>\n    </form>\n  )\n}\n\nexport default AddEntry;\n","import React from 'react';\n\nconst DeleteButton = ({ id, handleDeleteButton }) => <button id={id} onClick={handleDeleteButton}>delete</button>;\n\nexport default DeleteButton;\n","import React from 'react';\nimport DeleteButton from './DeleteButton';\n\nconst RenderPhonebook = (props) => {\n  if (props.filteredPhonebook.length === 0) return (<h2>Phonebook is empty</h2>)\n\n  return(\n    <ul>\n      {props.filteredPhonebook.map((phoneEntry, i) => {\n        return (\n          <div key={'div' + i}>\n            <li id={phoneEntry.id} key={phoneEntry.id}>{phoneEntry.name} {phoneEntry.number} <DeleteButton id={phoneEntry.id} handleDeleteButton={props.handleDeleteButton} /></li>\n          </div>\n        )\n      })}\n    </ul>\n  )\n}\n\nexport default RenderPhonebook;\n","import axios from 'axios';\nconst baseUrl = \"http://localhost:3001/api/persons\";\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data;\n}\n\nconst update = async (id, newPerson) => {\n  const response = await axios.put(`${baseUrl}/${id}`, newPerson)\n  return response.data\n}\n\nconst create = async (newPerson) => {\n  console.log(newPerson)\n  const response = axios.post(baseUrl, {...newPerson, id: `${newPerson.name}-${Math.floor(Math.random() * 100)}`});\n  return response.data;\n}\n\nconst deleteNumber = async (id) => {\n  const url = `${baseUrl}/${id}`\n  try {\n    const response = await axios.delete(url);\n  } catch(e) {\n    console.log(e.message)\n  }\n  }\n\nexport default { getAll, update, create, deleteNumber };\n","import React, { useState, useEffect } from 'react';\nimport Header from './Components/Header';\nimport SearchField from './Components/SearchField';\nimport AddEntry from './Components/AddEntry';\nimport RenderPhonebook from './Components/RenderPhonebook';\nimport PhonebookServices from './services/PhonebookServices';\nimport './App.css';\n\nconst App = () => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const [phonebook, setPhonebook] = useState([]);\n  const [search, setSearch] = useState('');\n\n  const addName = (event) => {\n    event.preventDefault();\n    let phonebookString = JSON.stringify(phonebook);\n    let numberNameString = JSON.stringify({name, number});\n    let isRepeated = phonebookString.indexOf(numberNameString);\n    if (isRepeated === -1 && name.trim().length > 0) {\n      PhonebookServices.create({name, number})\n        .then(setPhonebook([...phonebook].concat([{name, number}])));\n      setName('');\n      setNumber('');\n    } else {\n      alert(`${name} is already added to phonebook`)\n    }\n  }\n\n  useEffect(() => {\n    PhonebookServices.getAll()\n      .then(response => {\n        setPhonebook(response);\n      });\n  }, []);\n\n  const handleNewName = (event) => {\n    setName(event.target.value.trim());\n  }\n\n  const handleNewNumber = (event) => {\n    setNumber(event.target.value.trim());\n  }\n\n  const filteredPhonebook = phonebook.filter((phoneEntry) => {\n    return (phoneEntry.name.toLowerCase().indexOf(search.toLowerCase()) !== -1) || (phoneEntry.number.indexOf(search) !== -1)\n  });\n\n  const handleDeleteButton = (event) => {\n    const itemToBeDeletedId = String(event.target.id);\n    console.log(itemToBeDeletedId)\n\n    PhonebookServices.deleteNumber(itemToBeDeletedId);\n    const filteredPhonebook = phonebook.filter((phone) => {\n      console.log(phone)\n      return String(phone.id) !== itemToBeDeletedId\n    })\n    setPhonebook(filteredPhonebook);\n    console.log(phonebook[0].id === itemToBeDeletedId)\n  }\n\n  return (\n    <main>\n      <Header text=\"Phonebook\"/>\n      <SearchField searchValue={search}\n        onChangeHandler={(event) => setSearch(event.target.value)}\n       />\n      <Header text=\"Add a new Name\"/>\n      <AddEntry submit={addName} handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber} handleNumberClick={() => setNumber('')}\n        handleNameClick={() => setName('')} />\n      <Header text=\"Numbers\" />\n      <RenderPhonebook filteredPhonebook={filteredPhonebook} handleDeleteButton={handleDeleteButton}/>\n    </main>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}